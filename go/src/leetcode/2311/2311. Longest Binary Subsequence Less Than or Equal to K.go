/**
@author ZhengHao Lou
Date    2022/06/21
*/
package main

import "fmt"

/**
https://leetcode.cn/problems/longest-binary-subsequence-less-than-or-equal-to-k/
*/
func longestSubsequence(s string, k int) int {
	n := len(s)
	var c, b, i = 0, 0, n - 1
	for ; i >= 0; i-- {
		if c >= 30 && s[i] == '1' {
			break
		}
		b |= int(s[i]-'0') << (n - 1 - i)
		if b > k {
			break
		}
		c++
	}
	fmt.Println(s[i:], c)
	for ; i >= 0; i-- {
		if s[i] == '0' {
			c++
		}
	}
	return c
}

func main() {
	//fmt.Println(longestSubsequence("1001010", 5))
	//fmt.Println(longestSubsequence("00101001", 1))
	//fmt.Println(longestSubsequence("0", 583196182))
	//longestSubsequence("111100010000011101001110001111000000001011101111111110111000011111011000010101110100110110001111001001011001010011010000011111101001101000000101101001110110000111101011000101", 11713332)
	fmt.Println(longestSubsequence("1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", 1))

	//fmt.Println(counter("111100010000011101001110001111000000001011101111111110111000011111011000010101110100110110001111001001011001010011010000011111101001101000000101101001"))
}
