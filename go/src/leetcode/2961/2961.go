package main

/**
https://leetcode.cn/problems/double-modular-exponentiation/?envType=daily-question&envId=2024-07-30
*/
func getGoodIndices(variables [][]int, target int) (ans []int) {
    for i, v := range variables {
        if pow(pow(v[0], v[1], 10), v[2], v[3]) == target {
            ans = append(ans, i)
        }
    }
    return
}

func pow(x, n, mod int) int {
    res := 1
    for ; n > 0; n /= 2 {
        if n%2 > 0 {
            res = res * x % mod
        }
        x = x * x % mod
    }
    return res
}
